# 강의 노트
---
루키스 C# 강의 노트

## 쓰레드 생성
---
* C#의 쓰레드는 기본적으로 Foreground
* IsBackground로 설정 가능, 기본 설정은 false
* Join()을 이용해서 기다릴 수 있음
* 가벼운 작업에 쓰레드를 생성하는 것은 비효율적
	* C# ThreadPool 사용(백그라운드)
* 쓰레드 많아짐->문맥교환 오버헤드
* Task 생성 시 옵션넣기 가능
	* TaskCreateOptions

## 컴파일러 최적화
---
* 쓰레드를 사용할 때 자기만의 스택 메모리를 할당받아 사용
* static이 붙은 변수들은 모든 쓰레드들이 공통으로 사용해서 동시 접근 가능
* Debug모드에서는 되던 것들이 Release 모드로 하면 온갖 최적화가 들어가기 때문에 안될 수도 있음
* volatile 키워드를 붙이면 최적화 X
    *  c++과 c#의 volatile 키워드는 다름
    * c#에서는 플러스로 캐시된 값말고 최신값을 가져와라라는 의미도 있음
    * C#전문가들은 잊고 쓰지말라 함
        * 대신 메모리 배리어, 락, 아토믹같은 다른 옵션 사용